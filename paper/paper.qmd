---
title: "Demographic Groups with Stronger Biden Support in the Election Race'"
author: 
  - Yang Zhou
thanks: "Code and data are available at: <https://github.com/yangzhoucoco/Political-support-in-the-United-State.git >"
date: today
date-format: long
abstract: "This paper explores the relationship between voting preferences and the predictors of education, income, and personal gun ownership in the United States through analyzing 2022 US election database. By examining data from Cooperative Election Study, we identify clear patterns indicating that higher income are more likely to vote for Biden. Besides, the higher personal gun ownership will also significantly increase the likelihood of voting for Biden. By contrast, the people with higher education level show less probability to vote for Biden. Our findings underscore the critical impact of socio-economic status and personal security concerns on electoral outcomes, shedding light on the underlying dynamics that shape voter behavior in contemporary American politics. Ultimately, this research contributes to our understanding of the complex factors that drive electoral decisions, offering valuable insights for policymakers, political strategists, and citizens aiming to foster more informed and equitable democratic processes."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(here)
library(modelsummary)
library(knitr)
library(kableExtra)
library(readr)
library(ggplot2)
```


# Introduction
2020 United States Presidential Election stood as an important political event, reflecting societal divisions and highlighting the influence of various demographic factors on voting behavior. This election, which culminated in the victory of Joe Biden over incumbent Donald Trump, has spurred a renewed interest in understanding the dynamics of voter preferences and the underlying factors that drive electoral decisions. Our study aims to dissect the relationship between voters' educational background, income levels, personal gun ownership, and their voting preferences, employing logistic regression analysis to reveal the potential associations between different factors.

The Cooperative Election Study (CES)conduct a throughout survey encompassing a wide range of voter demographics and attitudes.CES collaborate with 60 researches teams to assembles sample comprising 60,000 cases. The cases are based on the survey of adult pariticipants in 2022 fall. YouGov was commissioned to help the teams to conduct national sample surbey. They conducted the survey before and after elections. The first round survey were completed from September 29 to November 8, 2022 and the second period is gathered from November 10 to December 15, 2022. By offering an throughout views to different constituencies, voter demographics and voter behaviors, CES reveals the complexity of electoral behavior and voter demographics. By understanding voter behaviors,, we gain valuable insights that pave the way for refining and advancing democratic practices.

In addition, by leveraging data from the 2022 CES, this paper delves into how variables such as education, income, and gun ownership serve as predictors for electoral choices, specifically the likelihood of voting for Biden or Trump. This analysis not only reveal the individual impact of these factors but also contributes to a broader understanding of the socio-economic and cultural impact of American electoral behavior.

Based on our model, I found that individuals with higher incomes demonstrate a greater propensity to vote for Biden. Additionally, elevated levels of personal gun ownership significantly correlate with an increased likelihood of supporting Biden. Conversely, individuals possessing higher levels of education exhibit a reduced probability of voting for Biden. 

To be more specific, this paper is structured as follow: in {#sec-data}, I will introduce the data variable and how the data is used for the overall analysis.Visualization would also be included. In {#sec-model}, I will set up the model to predict the relationship between the predictors and electoral outcomes. Model justification will provide a rationale for selecting logitics model. {#sec-results} is focused on explain the result of the model. Lastly, {#sec-Discussion} provides a discussion on what we found in the model. I will also talk about the weakness of this paper along with the further study on this topic.

I will uses the programming language `R`[@citeR] to analyze the data. `dplyr`[@dplyr],  `tidyverse`[@tidyverse], `ggplot2`[@ggplot], `knitr` [@knitr],  `here` [@here] , and `kableExtra` [@kableExtra],`modelsummary`[@model_summary], and `rstanarm`[@rstanarm] will help me in the model and visualization part.



# Data {#sec-data}

## Source and Methodology
The 2022 Cooperative Election Study (CES) [@main_data] was conducted by YouGov. In order to ensure the representativesness of the data, the survey utilized sampling methodology, matching process, weighting procedure.

## Sampling and Sampling Matching
The survey interviewed 60,000 adults during two periods: pre-election from September 29 to November 8, 2022, and post-election from November 10 to December 15, 2022. YouGov employed matched random sample methodology for the sampling process. Sample matching is used to create representative samples from non-random pools of respondents and it is suitable for online survey. First,it will draw a random target population and then, it is going to select the matching respondents from the pool which matched with the target sample's characteristics. In order to replicate the target sample's attributes, YouGov uses proximity matching to calculates the likelihood or closeness between characteristics of the target samples; they will adjust the weight of variables when they need. 

## Weightening
The sample use two-stage weighting process to correct the imbalances between matched sample and target population.They use a weight method called entropy balancing, which focus on attributes including gender, race, education, age, and voting behavior


## Vote Vaildation





## Variables
```{r}
#| label: fig-variables
#| fig-cap: Brief summary of variables types
#| echo: false
#| warning: false
#| message: false

ces2022 <-  read_csv(file = here::here("data/raw_datas/raw_datas.csv"))
    col_types =
      cols(
        "votereg" = col_integer(),
        "presvote20post" = col_integer(),
        "educ" = col_integer(),
        "faminc_new" = col_integer(),
        "gunown" = col_integer()
      )

ces2022 |> slice_head(n = 10) |>
  kable(booktabs = TRUE, caption = "Brief summary of variables types") |>
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = F)
```

```{r}
#| label: fig-vote
#| fig-cap: The distribution of presidential preferences, by gender, and race
#| echo: false
#| warning: false
#| message: false

library(ggplot2)
library(readr)
library(here)

ces2022 <- read_csv(here("data/analysis_data/analysis_data.csv"))


ggplot(data = ces2022, aes(x = educ, fill = voted_for)) +
  geom_bar(position = "dodge") +  
  geom_text(
    aes(label = ..count..),
    stat = 'count',
    position = position_dodge(width = 0.9),
    vjust = -0.25,
    color = "black",
    size = 2.5  
  ) +
  facet_wrap(facets = vars(income_group)) +
  theme_minimal(base_size = 14) +  
  labs(
    x = "Education",
    y = "Number of respondents",
    fill = "Voted for"
  ) +
  coord_flip() +  
  scale_fill_brewer(palette = "Set1") +
  theme(
    legend.position = "bottom",
    strip.text = element_text(size = 12)  
  )
```
  
## Measurements 




# Model {#sec-model}
## Model set-up

Define $y_i$ is the political preference of the respondent and equal to 1 if Biden and 0 if Trump. Then $\mbox{education}_i$ is education level of the respondent and $\mbox{income}_i$ is the income of the respondent. 

The parameters can be derived utilizing the `stan_glm()` function. Practically, `rstanarm` transforms categorical variables into a set of binary indicators, leading to the estimation of numerous coefficients. To optimize computational efficiency, we will select a random subset of 500 data points for model fitting instead of using the entire dataset.



\begin{align} 
y_i|\pi_i &\sim \mbox{Bern}(\pi_i) \\
\mbox{logit}(\pi_i) & = \beta_0+\beta_1 \times\mbox{education}_i +\beta_2 \times \mbox{income}_i\\
\beta_0 &\sim \mbox{Normal}(0, 2.5)\\
\beta_1 &\sim \mbox{Normal}(0, 2.5)\\
\beta_2 &\sim \mbox{Normal}(0. 2.5)
\end{align}




## Model justification




# Results {#sec-results}



```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)

us_political_preferences <-
  readRDS(file = here::here("model/first_model.rds"))
```

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: tbl-model-summary-table
#| tbl-cap: "Explanatory models of political preferences based on gender and race (n = 500)"

modelsummary(
  list(
    "Support Biden" = us_political_preferences
  ),
  statistic = "mad"
)

```

# Discussion {#sec-Discussion}

## Findings


## High income 



## Education

## Gun ownership




## Application of Logistic Regression 

## Linear Regression Model


## Model Building

## Weaknesses and Next Steps




\newpage

# References {#sec-Reference}


